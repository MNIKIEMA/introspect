(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{9201:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-bedrock-params",function(){return a(4530)}])},6389:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5105),s=a(9035),o=a.n(s);let l=()=>(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,r.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},3360:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(5105),s=a(8101),o=a(3472),l=a(5379),n=a(6159),d=a(4799);let i=e=>{let{id:t,userType:a,children:i,rootClassNames:c="",contentClassNames:m="max-h-full h-full",containerClassNames:u="flex flex-col md:min-h-screen relative container mx-auto"}=e,[h,p]=(0,s.useState)([]),g=(0,o.useRouter)(),f=e=>{g.push(e)},y=()=>{localStorage.removeItem("defogUser"),localStorage.removeItem("defogToken"),localStorage.removeItem("defogUserType"),f("/log-in")},x=(0,n.usePathname)();return(0,s.useEffect)(()=>{p(("admin"==a?[{title:"Admin",href:"#!",children:[{key:"manage-database",title:"Manage Database",href:"/extract-metadata"},{key:"manage-users",title:"Manage Users",href:"/manage-users"},{key:"align-model",title:"Align Model",href:"/align-model"},{key:"evaluate-model",title:"Evaluate Model",href:"/evaluate-model"}]},{key:"query-data",title:"Query Data",href:"/query-data"},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:y}]:a?[{key:"query-data",title:"Query Data",href:"/query-data"},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:y}]:[]).map(e=>(e.current=e.href==x,e)).map(e=>(e.children&&(e.children=e.children.map(e=>(e.current=e.href==x,e))),e)))},[a]),(0,r.jsxs)("div",{className:(0,d.QP)(u,c),children:[h.length?(0,r.jsx)(l.jq,{rootClassNames:(0,d.QP)("border-b dark:border-dark-border","bg-white dark:bg-dark-bg-primary","text-primary-text dark:text-dark-text-primary"),items:h.map(e=>({...e,classNames:(0,d.QP)(e.classNames,"hover:bg-gray-100 dark:hover:bg-dark-hover",e.current&&"bg-gray-100 dark:bg-dark-hover")}))}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)("div",{className:m,children:i})]})}},4530:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5105),s=a(8101),o=a(3472),l=a(6389),n=a(3360),d=a(4379),i=a(5379);let c=()=>{let[e,t]=(0,s.useState)(!1),[a,c]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),h=(0,s.useContext)(i.oS),p=(0,o.useRouter)(),g=async()=>{t(!0);let e=localStorage.getItem("defogToken");if(!e){t(!1),h.error("It seems like there was no token found in your session. Please try to log in again.");return}let a=await fetch((0,d.A)("http","integration/get_bedrock_analysis_params"),{method:"POST",body:JSON.stringify({token:e}),headers:{"Content-Type":"application/json"}});if(a.ok){let e=await a.json();c(e.bedrock_model_id),u(e.bedrock_model_prompt)}else h.error("There was an error fetching the bedrock analysis params. Are you sure you are logged in?");t(!1)};return(0,s.useEffect)(()=>{let e=localStorage.getItem("defogUser"),t=localStorage.getItem("defogToken"),a=localStorage.getItem("defogUserType");if(!e||!t||!a){p.push("/log-in");return}t?g():p.push("/log-in")},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{}),(0,r.jsx)(n.A,{id:"manage-users",userType:"admin",children:(0,r.jsxs)("div",{className:"flex justify-left items-left flex-col p-1 mt-5 gap-4",children:[(0,r.jsx)("h1",{className:"text-2xl ",children:"Update Bedrock Analysis Parameters"}),(0,r.jsx)("p",{children:"Here you can update the parameters used for the bedrock analysis model."}),(0,r.jsxs)("div",{className:"model-id",children:[(0,r.jsxs)("p",{className:"text-md",children:[(0,r.jsx)("span",{className:"font-bold",children:"Model ID"})," (this is the ID of a model on Bedrock)"]}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>c(e.target.value),className:"border border-gray-300 p-1 w-full max-w-sm"})]}),(0,r.jsxs)("div",{className:"model-prompt",children:[(0,r.jsxs)("p",{className:"text-md",children:[(0,r.jsx)("span",{className:"font-bold",children:"Model Prompt"})," (this is the prompt used for the model - you must include the placeholder"," ",(0,r.jsx)("code",{className:"text-red",children:"{sql}"}),","," ",(0,r.jsx)("code",{className:"text-red",children:"{question}"}),", and"," ",(0,r.jsx)("code",{className:"text-red",children:"{data_csv}"})," inside the prompt)"]}),(0,r.jsx)("textarea",{role:"textbox",value:m,onChange:e=>u(e.target.value),className:"border border-gray-300 p-1 w-full max-h-full",rows:20})]}),(0,r.jsx)("div",{className:"flex justify-left items-left gap-4",children:(0,r.jsx)("button",{className:" bg-blue-500 border border-blue-200 text-white p-2 rounded-md",onClick:async()=>{t(!0);let e=localStorage.getItem("defogToken");if(!e){t(!1),h.error("It seems like there was no token found in your session. Please try to log in again.");return}(await fetch((0,d.A)("http","integration/set_bedrock_analysis_params"),{method:"POST",body:JSON.stringify({token:e,bedrock_model_id:a,bedrock_model_prompt:m}),headers:{"Content-Type":"application/json"}})).ok?h.success("Successfully updated bedrock analysis params!"):h.error("There was an error updating the bedrock analysis params. Are you sure you are logged in?"),t(!1)},children:e?"Loading...":"Update Bedrock Analysis Params"})})]})})]})}},4379:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(3184);let s=(e,t)=>{if("http"!==e&&"ws"!==e)throw Error("Protocol not supported");return""!==t?"ws"===e?"".concat((r.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"").replace("http","ws"),"/").concat(t):"".concat(r.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"","/").concat(t):"".concat(r.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"")}}},e=>{var t=t=>e(e.s=t);e.O(0,[328,636,593,792],()=>t(9201)),_N_E=e.O()}]);