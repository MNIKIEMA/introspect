(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{4635:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return a(1544)}])},6389:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(5105),s=a(9035),o=a.n(s);let n=()=>(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,r.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},3360:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(5105),s=a(8101),o=a(3472),n=a(5920),l=a(6159),i=a(4799);let d=e=>{let{id:t,userType:a,children:d,rootClassNames:c="",contentClassNames:m="max-h-full h-full",containerClassNames:h="flex flex-col md:min-h-screen relative container mx-auto"}=e,[u,f]=(0,s.useState)([]),g=(0,o.useRouter)(),k=e=>{g.push(e)},p=()=>{localStorage.removeItem("defogUser"),localStorage.removeItem("defogToken"),localStorage.removeItem("defogUserType"),k("/log-in")},y=(0,l.usePathname)();return(0,s.useEffect)(()=>{f(("admin"==a?[{title:"Admin",href:"#!",children:[{key:"manage-database",title:"Manage Database",href:"/extract-metadata"},{key:"align-model",title:"Align Model",href:"/align-model"}]},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:a?[{key:"query-data",title:"Query Data",href:"/query-data"},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:[]).map(e=>(e.current=e.href==y,e)).map(e=>(e.children&&(e.children=e.children.map(e=>(e.current=e.href==y,e))),e)))},[a]),(0,r.jsxs)("div",{className:(0,i.QP)(h,c),children:[u.length?(0,r.jsx)(n.jq,{rootClassNames:(0,i.QP)("border-b dark:border-dark-border","bg-white dark:bg-dark-bg-primary","text-primary-text dark:text-dark-text-primary"),items:u.map(e=>({...e,classNames:(0,i.QP)(e.classNames,"hover:bg-gray-100 dark:hover:bg-dark-hover",e.current&&"bg-gray-100 dark:bg-dark-hover")}))}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)("div",{className:m,children:d})]})}},1544:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5105),s=a(8101),o=a(5296),n=a(3360),l=a(6389),i=a(5920),d=a(3184);function c(){let[e,t]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[m,h]=(0,s.useState)([]),[u,f]=(0,s.useState)(!0),g=async()=>{let e=localStorage.getItem("defogToken"),t=await fetch((d.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"")+"/get_db_names",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(!t.ok)throw Error("Failed to get api key names - are you sure your network is working?");h((await t.json()).db_names),f(!1)};return(0,s.useEffect)(()=>{let e=localStorage.getItem("defogToken");c(localStorage.getItem("defogUserType")),t(e),g(),e&&t(e)},[]),!0===u?(0,r.jsx)(i.c5,{}):(0,r.jsxs)("div",{className:"h-screen",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)(n.A,{id:"query-data",userType:a,containerClassNames:"max-h-screen h-screen flex flex-col",contentClassNames:"h-full max-h-full",children:(0,r.jsx)(o.A5,{apiEndpoint:d.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"",token:e,initialDbNames:m})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[382,328,429,296,636,593,792],()=>t(4635)),_N_E=e.O()}]);